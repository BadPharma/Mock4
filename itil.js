const questionBank = {
   "1.1": [
    {
        question: "What is the definition of a service in the context of ITIL?",
        options: ["A) A means of delivering value to customers", "B) A set of processes", "C) A collection of IT assets", "D) A system for managing incidents"],
        correctAnswer: "A"
    },
    {
        question: "What does the term 'Utility' refer to in ITIL?",
        options: ["A) Warranty", "B) Fit for purpose", "C) Fit for use", "D) Service management"],
        correctAnswer: "B"
    },
    {
        question: "Which term refers to the assurance that a service will meet agreed requirements?",
        options: ["A) Utility", "B) Warranty", "C) Service level", "D) SLA"],
        correctAnswer: "B"
    },
    {
        question: "In ITIL, who is a 'Customer'?",
        options: ["A) A user of the service", "B) A person who defines service requirements", "C) A manager within the IT department", "D) A stakeholder responsible for funding the service"],
        correctAnswer: "B"
    },
    {
        question: "Who is considered a 'User' in ITIL?",
        options: ["A) An individual who uses a service", "B) The person funding the service", "C) A stakeholder defining service requirements", "D) An IT support staff"],
        correctAnswer: "A"
    },
    {
        question: "What is 'Service Management' according to ITIL?",
        options: ["A) The act of delivering IT services to users", "B) A set of specialized organizational capabilities", "C) A department within IT", "D) The process of managing customer expectations"],
        correctAnswer: "B"
    },
    {
        question: "Who is a 'Sponsor' in ITIL terms?",
        options: ["A) The person who uses the service", "B) The individual responsible for service provision", "C) The person funding the service", "D) A stakeholder defining the requirements"],
        correctAnswer: "C"
    },
    {
        question: "Which of the following best describes 'Utility'?",
        options: ["A) What the service does", "B) How the service is delivered", "C) The assurance of service availability", "D) The stakeholder funding the service"],
        correctAnswer: "A"
    },
    {
        question: "Which term is associated with 'fit for use' in ITIL?",
        options: ["A) Utility", "B) Service level", "C) Warranty", "D) Customer"],
        correctAnswer: "C"
    },
    {
        question: "What does the definition of 'Service' in ITIL primarily focus on?",
        options: ["A) Processes", "B) IT assets", "C) Delivering value to customers", "D) Managing incidents"],
        correctAnswer: "C"
    },
    {
        question: "Who would typically be considered a 'Sponsor' in an ITIL context?",
        options: ["A) IT support staff", "B) A business executive funding the service", "C) A user of the service", "D) The person defining the service requirements"],
        correctAnswer: "B"
    },
    {
        question: "In ITIL, the term 'User' is best described as:",
        options: ["A) The person funding the service", "B) The individual responsible for service management", "C) The person who uses the service", "D) A manager in the IT department"],
        correctAnswer: "C"
    },
    {
        question: "Which of the following defines 'Service Management'?",
        options: ["A) Managing customer expectations", "B) Delivering IT services", "C) A set of specialized organizational capabilities for delivering value", "D) A department in IT"],
        correctAnswer: "C"
    },
    {
        question: "What does 'Warranty' ensure in ITIL?",
        options: ["A) Service is fit for purpose", "B) Service meets agreed requirements", "C) Service is delivered", "D) Service is funded"],
        correctAnswer: "B"
    },
    {
        question: "Which term is related to the concept of 'fit for purpose' in ITIL?",
        options: ["A) Utility", "B) Warranty", "C) Service management", "D) User"],
        correctAnswer: "A"
    },
        // More questions for Category 1
    ],
    "1.2": [
    {
        question: "What is the primary focus when creating value with services in ITIL?",
        options: ["A) Cost", "B) Value", "C) Organization", "D) Outcome"],
        correctAnswer: "B"
    },
    {
        question: "In ITIL, which of the following best describes 'Cost'?",
        options: ["A) The amount paid for a service", "B) The resources needed to deliver a service", "C) The financial impact of a service failure", "D) The value derived from a service"],
        correctAnswer: "B"
    },
    {
        question: "Which term in ITIL refers to the benefit, utility, and importance of something?",
        options: ["A) Cost", "B) Value", "C) Outcome", "D) Output"],
        correctAnswer: "B"
    },
    {
        question: "How does ITIL define 'Organization'?",
        options: ["A) A single entity involved in service provision", "B) A group of people with a common set of objectives", "C) A process for delivering services", "D) A department within a business"],
        correctAnswer: "B"
    },
    {
        question: "What is the definition of 'Outcome' in ITIL?",
        options: ["A) The result of carrying out an activity", "B) The actual cost of a service", "C) The plan for future service delivery", "D) The expected service performance"],
        correctAnswer: "A"
    },
    {
        question: "Which of the following best describes an 'Output' in ITIL?",
        options: ["A) The final result delivered by a process", "B) The tangible or intangible deliverable of an activity", "C) The cost associated with service delivery", "D) The benefit derived from a service"],
        correctAnswer: "B"
    },
    {
        question: "What does 'Risk' represent in the context of ITIL service management?",
        options: ["A) The likelihood of a negative event occurring", "B) The potential for positive outcomes", "C) The cost associated with service delivery", "D) The resources needed for service provision"],
        correctAnswer: "A"
    },
    {
        question: "Which term is associated with ensuring that a service is 'fit for purpose'?",
        options: ["A) Utility", "B) Warranty", "C) Risk", "D) Value"],
        correctAnswer: "A"
    },
    {
        question: "In ITIL, 'Warranty' is best defined as:",
        options: ["A) The assurance that a service will meet agreed requirements", "B) The resources needed to deliver a service", "C) The benefit derived from a service", "D) The tangible result of an activity"],
        correctAnswer: "A"
    },
    {
        question: "What is the relationship between 'Cost' and 'Value' in ITIL service management?",
        options: ["A) Cost is always greater than value", "B) Cost should be minimized to maximize value", "C) Cost and value are independent of each other", "D) Cost is irrelevant in value creation"],
        correctAnswer: "B"
    },
    {
        question: "Which of the following best describes how 'Risk' is managed in ITIL?",
        options: ["A) By avoiding all negative outcomes", "B) By balancing potential benefits and harms", "C) By eliminating all threats", "D) By reducing service costs"],
        correctAnswer: "B"
    },
    {
        question: "Which concept in ITIL ensures that a service is 'fit for use'?",
        options: ["A) Utility", "B) Warranty", "C) Risk", "D) Outcome"],
        correctAnswer: "B"
    },
    {
        question: "What is an 'Organization' responsible for in ITIL service management?",
        options: ["A) Delivering value to stakeholders", "B) Managing financial costs", "C) Ensuring service utility", "D) Assessing service risk"],
        correctAnswer: "A"
    },
    {
        question: "In ITIL, 'Outcome' is related to which of the following?",
        options: ["A) The financial cost of service delivery", "B) The result of a service performing as expected", "C) The resources required to deliver a service", "D) The assurance of service reliability"],
        correctAnswer: "B"
    },
    {
        question: "Which term refers to the potential that a service will fail to deliver its expected benefits?",
        options: ["A) Utility", "B) Value", "C) Risk", "D) Outcome"],
        correctAnswer: "C"
    },
        // More questions for Category 2
    ],
    "1.3": [
    {
        question: "What is the ITIL Service Value System (SVS) designed to achieve?",
        options: ["A) Deliver specific outcomes", "B) Create value", "C) Manage costs", "D) Implement IT processes"],
        correctAnswer: "B"
    },
    {
        question: "Which element of the ITIL SVS provides the structure for developing, implementing, and continually improving service management practices?",
        options: ["A) Guiding principles", "B) Governance", "C) Service value chain", "D) Practices"],
        correctAnswer: "A"
    },
    {
        question: "What is the primary function of 'Governance' within the ITIL Service Value System?",
        options: ["A) To oversee compliance with organizational policies", "B) To manage resources", "C) To ensure service delivery", "D) To guide the improvement of practices"],
        correctAnswer: "A"
    },
    {
        question: "Which component of the ITIL SVS defines the organization's activities and practices required to create value?",
        options: ["A) Service value chain", "B) Continual improvement", "C) Governance", "D) Guiding principles"],
        correctAnswer: "A"
    },
    {
        question: "What role do 'Practices' play in the ITIL Service Value System?",
        options: ["A) They govern the organization", "B) They describe how work is organized", "C) They guide actions and decisions", "D) They support the service value chain"],
        correctAnswer: "D"
    },
    {
        question: "Which aspect of the ITIL SVS is focused on ensuring that services and service management practices remain aligned with business needs?",
        options: ["A) Guiding principles", "B) Continual improvement", "C) Governance", "D) Practices"],
        correctAnswer: "B"
    },
    {
        question: "How does 'Governance' contribute to the ITIL Service Value System?",
        options: ["A) By providing a structured framework for IT processes", "B) By ensuring alignment with organizational objectives", "C) By managing day-to-day service delivery", "D) By defining best practices"],
        correctAnswer: "B"
    },
    {
        question: "What is the purpose of the 'Service Value Chain' within the ITIL SVS?",
        options: ["A) To organize service delivery activities", "B) To define guiding principles", "C) To oversee governance", "D) To improve service quality"],
        correctAnswer: "A"
    },
    {
        question: "Which ITIL SVS component is responsible for providing a structured approach to improving services and practices?",
        options: ["A) Continual improvement", "B) Governance", "C) Service value chain", "D) Practices"],
        correctAnswer: "A"
    },
    {
        question: "What is the role of 'Guiding Principles' in the ITIL Service Value System?",
        options: ["A) To provide high-level recommendations", "B) To manage service delivery", "C) To govern organizational policies", "D) To implement IT practices"],
        correctAnswer: "A"
    },
    {
        question: "Which of the following is a key focus of 'Continual Improvement' in the ITIL SVS?",
        options: ["A) Aligning services with changing business needs", "B) Structuring IT practices", "C) Managing governance policies", "D) Defining the service value chain"],
        correctAnswer: "A"
    },
    {
        question: "In the ITIL Service Value System, what does the 'Service Value Chain' encompass?",
        options: ["A) The series of steps an organization takes to create value", "B) The principles that guide decision-making", "C) The governance structure for services", "D) The practices used to manage services"],
        correctAnswer: "A"
    },
        // More questions for Category 1
    ],
    "2.1": [
    {
        question: "What is the purpose of the ITIL 'Service Value Chain'?",
        options: ["A) To provide a framework for IT governance", "B) To convert demand into value", "C) To manage IT processes", "D) To define best practices"],
        correctAnswer: "B"
    },
    {
        question: "Which activity in the Service Value Chain is focused on meeting stakeholder expectations?",
        options: ["A) Plan", "B) Improve", "C) Engage", "D) Deliver & support"],
        correctAnswer: "C"
    },
    {
        question: "What is the main objective of the 'Engage' activity in the Service Value Chain?",
        options: ["A) Ensuring stakeholder needs are understood", "B) Delivering services to users", "C) Managing IT resources", "D) Overseeing governance"],
        correctAnswer: "A"
    },
    {
        question: "Which Service Value Chain activity is responsible for ensuring the organization's vision and goals are communicated?",
        options: ["A) Plan", "B) Improve", "C) Design & transition", "D) Obtain/build"],
        correctAnswer: "A"
    },
    {
        question: "In the Service Value Chain, which activity is directly concerned with the creation of new services?",
        options: ["A) Engage", "B) Design & transition", "C) Obtain/build", "D) Deliver & support"],
        correctAnswer: "B"
    },
        // More questions for Category 2
    ],
    "2.2": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ],
    "3.1": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ],
    "4.1": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ],
    "5.1": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ],
    "5.2": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ],
    "6.1": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ],
    "6.2": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ],
    "7.1": [
        // Array of questions for Category 2
        {
            question: "Which of the following is NOT a key component of the Service Value System (SVS)?",
            options: ["A) Option 1", "B) Option 2", "C) Option 3", "D) Option 4"],
            correctAnswer: "D"
        },
        // More questions for Category 2
    ]
    
};

const selectedQuestions = [];
const questionsPerCategory = {
    "1.1": 2, // Example: Select 10 questions from Category 1
    "1.2": 2, // Example: Select 10 questions from Category 2
    "1.3": 1, // Example: Select 10 questions from Category 2
    "2.1": 1, // Example: Select 10 questions from Category 2
    "2.2": 5, // Example: Select 10 questions from Category 2
    "3.1": 2, // Example: Select 10 questions from Category 2
    "4.1": 1, // Example: Select 10 questions from Category 2
    "5.1": 1, // Example: Select 10 questions from Category 2
    "5.2": 1, // Example: Select 10 questions from Category 2
    "6.1": 5, // Example: Select 10 questions from Category 2
    "6.2": 2, // Example: Select 10 questions from Category 2
    "7.1": 17, // Example: Select 10 questions from Category 2

}

// Function to randomly select questions from each category
function selectQuestions() {
    for (const [category, numQuestions] of Object.entries(questionsPerCategory)) {
        const questions = questionBank[category];
        const shuffled = questions.sort(() => 0.5 - Math.random());
        selectedQuestions.push(...shuffled.slice(0, numQuestions));
    }

    // Shuffle the selected questions to mix them up
    selectedQuestions.sort(() => 0.5 - Math.random());
}

// Render the selected questions
function renderQuiz() {
    const quizContainer = document.getElementById('quizContainer');
    quizContainer.innerHTML = ''; // Clear previous content

    selectedQuestions.forEach((q, index) => {
        const questionElement = document.createElement('div');
        questionElement.className = 'question';

        const questionTitle = document.createElement('h3');
        questionTitle.textContent = q.question;

        questionElement.appendChild(questionTitle);

        const optionsElement = document.createElement('div');
        optionsElement.className = 'options';

        q.options.forEach((option, optionIndex) => {
            const optionLabel = document.createElement('label');
            const optionInput = document.createElement('input');
            optionInput.type = 'radio';
            optionInput.name = `question${index}`;
            optionInput.value = option.charAt(0);

            optionLabel.appendChild(optionInput);
            optionLabel.appendChild(document.createTextNode(option));
            optionsElement.appendChild(optionLabel);
        });

        questionElement.appendChild(optionsElement);
        quizContainer.appendChild(questionElement);
    });
}

// Function to handle quiz submission
function submitQuiz() {
    let score = 0;
    selectedQuestions.forEach((q, index) => {
        const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
        if (selectedOption && selectedOption.value === q.correctAnswer) {
            score++;
        }
    });

    const resultElement = document.getElementById('result');
    resultElement.textContent = `You scored ${score} out of ${selectedQuestions.length}`;
}

// Initialize the quiz
selectQuestions();
renderQuiz();
